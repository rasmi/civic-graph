<button ng-if='!mobile' class='addInfoDesktop' style='width:100%' ng-click='startEdit()'><p><span class="glyphicon glyphicon-plus-sign"></span> Add New Information</p></button>
<hr />
<div class='right_logo'> 
    <div ng-if='currentEntity.twitter_handle' class='twitter-pic-position'>
      <img class='twitter-pic' ng-src='https://twitter.com/{{currentEntity.twitter_handle}}/profile_image'>
    </div>
    <i title='Edit' ng-click='startEdit(currentEntity)' class='glyphicon glyphicon-pencil edit-marker'></i>
    <a ng-if='currentEntity.url' ng-href='{{currentEntity.url}}' target='_blank'><h2>{{currentEntity.name}}</h2></a>
    <a ng-if='!currentEntity.url' ng-href='https://www.bing.com/search?q={{currentEntity.name}}' target='_blank'><h2>{{currentEntity.name}}</h2></a>
</div>
<h6>Locations: </h6>
<p ng-repeat='location in currentEntity.locations'>{{location.full_address}}</p>

<h6>Influence: </h6><p>{{currentEntity.influence}}</p>

<h6>Type of Entity: </h6><p>{{currentEntity.type}}</p>

<h6>Employees: </h6><p>{{currentEntity.employees | number}}</p>
<div ng-if='currentEntity.twitter_handle'>
<h6>Twitter: </h6><a ng-href="https://twitter.com/{{currentEntity.twitter_handle.replace('@','')}}" target='_blank'>{{currentEntity.twitter_handle}}</a>
<h6>Twitter Followers: </h6><p>{{currentEntity.followers | number}}</p>
</div>

<!-- KEY PEOPLE -->
<div ng-hide="currentEntity.type == 'Individual'">
    <div ng-if='currentEntity.key_people.length > 0'>
    <h6>Key Civic People:</h6>
        <p ng-repeat='person in currentEntity.key_people | limitTo:itemsShown.key_people'><a ng-href='https://www.bing.com/search?q={{person.name}} {{currentEntity.name}}' target='_blank'>{{person.name}}</a></p>

        <a ng-if='currentEntity.key_people.length > itemsShown.key_people' ng-click="showMore('key_people')">More...</a>
        <a ng-if='itemsShown.key_people > itemsShownDefault.key_people' ng-click="showLess('key_people')">Less...</a>
    </div>
    <div ng-if='currentEntity.key_people.length == 0'>
        <h6>No known Key Civic People.</h6>
    </div>   
</div>

<!-- COLLABORATIONS -->
<div ng-if='currentEntity.collaborations.length > 0'>
<h6>Collaborated with:</h6>
    <p ng-repeat='collaboration in currentEntity.collaborations | limitTo:itemsShown.collaborations'>{{collaboration.entity}}</p>

    <a ng-if='currentEntity.collaborations.length > itemsShown.collaborations'ng-click="showMore('collaborations')">More...</a>
    <a ng-if='itemsShown.collaborations > itemsShownDefault.collaborations'ng-click="showLess('collaborations')">Less...</a>
</div>
<div ng-if='currentEntity.collaborations.length == 0'>
    <h6>No known collaborations.</h6>
</div>

<!-- EMPLOYMENTS -->
<div ng-if='currentEntity.employments.length > 0'>
<h6>Employment:</h6>
    <p ng-repeat='employment in currentEntity.employments | limitTo:itemsShown.employments'>{{employment.entity}}</p>

    <a ng-if='currentEntity.employments.length > itemsShown.employments'ng-click="showMore('employments')">More...</a>
    <a ng-if='itemsShown.employments > itemsShownDefault.employments'ng-click="showLess('employments')">Less...</a>
</div>

<div ng-if='currentEntity.employments.length == 0'>
    <p>No known employment information.</p>
</div>

<!-- RELATIONS -->
<div ng-if='currentEntity.relations.length > 0'>
<h6>Related to:</h6>
    <p ng-repeat='relation in currentEntity.relations | limitTo:itemsShown.relations'>{{relation.entity}}</p>

    <a ng-if='currentEntity.relations.length > itemsShown.relations'ng-click="showMore('relations')">More...</a>
    <a ng-if='itemsShown.relations > itemsShownDefault.relations'ng-click="showLess('relations')">Less...</a>
</div>

<div ng-if='currentEntity.relations.length == 0'>
    <p>No known relation information.</p>
</div>

<!-- DATA USAGE -->
<div ng-if='currentEntity.data_given.length > 0'>
<h6>Gave data to:</h6>
    <p ng-repeat='datasource in currentEntity.data_given'>{{datasource.entity}}</p>

    <a ng-if='currentEntity.data_given.length > itemsShown.data_given'ng-click="showMore('data_given')">More...</a>
    <a ng-if='itemsShown.data_given > itemsShownDefault.data_given'ng-click="showLess('data_given')">Less...</a>
</div>
<div ng-if='currentEntity.data_given.length == 0'>
    <p>No known data provided to other entities.</p>
</div>
<div ng-if='currentEntity.data_received.length > 0'>
Used data from:
    <p ng-repeat='datasource in currentEntity.data_received'>{{datasource.entity}}</p>

    <a ng-if='currentEntity.data_received.length > itemsShown.data_received'ng-click="showMore('data_received')">More...</a>
    <a ng-if='itemsShown.data_received > itemsShownDefault.data_received'ng-click="showLess('data_received')">Less...</a>
</div>
<div ng-if='currentEntity.data_received.length == 0'>
    <p>No known external data used.</p>
</div>

<!-- GRANTS RECEIVED -->
<div ng-if='currentEntity.grants_received.length > 0'>
Received grants from:
    <p ng-repeat='grant in currentEntity.grants_received | limitTo:itemsShown.grants_received'>{{grant.entity}}<span ng-if='grant.amount > 0'>: {{grant.amount | currency}}</span></p>

    <a ng-if='currentEntity.grants_received.length > itemsShown.grants_received'ng-click="showMore('grants_received')">More...</a>
    <a ng-if='itemsShown.grants_received > itemsShownDefault.grants_received'ng-click="showLess('grants_received')">Less...</a>
</div>
<div ng-if='currentEntity.grants_received.length == 0'>
    <p>No known grants received.</p>
</div>

<!-- INVESTMENTS RECEIVED -->
<div ng-hide="currentEntity.type != 'Individual'">
    <div ng-if='currentEntity.investments_received.length > 0'>
    Received investments from:
        <p ng-repeat='investment in currentEntity.investments_received | limitTo:itemsShown.investments_received'>{{investment.entity}}<span ng-if='investment.amount > 0'>: {{investment.amount | currency}}</span></p>
        
        <a ng-if='currentEntity.investments_received.length > itemsShown.investments_received'ng-click="showMore('investments_received')">More...</a>
        <a ng-if='itemsShown.investments_received > itemsShownDefault.investments_received'ng-click="showLess('investments_received')">Less...</a>
    </div>
    <div ng-if='currentEntity.investments_received.length == 0'>
        <p>No known investments received.</p>
    </div>
</div>
<!-- GRANTS GIVEN -->
<div ng-if="currentEntity.type == 'Individual'">
    <div ng-if='currentEntity.grants_given.length > 0'>
    Gave grants to:
        <p ng-repeat='grant in currentEntity.grants_given | limitTo:itemsShown.grants_given'>{{grant.entity}}<span ng-if='grant.amount > 0'>: {{grant.amount | currency}}</span></p>

        <a ng-if='currentEntity.grants_given.length > itemsShown.grants_given'ng-click="showMore('grants_given')">More...</a>
        <a ng-if='itemsShown.grants_given > itemsShownDefault.grants_given'ng-click="showLess('grants_given')">Less...</a>
    </div>
    <div ng-if='currentEntity.grants_given.length == 0'>
        <p>No known grants provided.
    </div>
</div>
<!-- INVESTMENTS MADE -->
<div ng-if='currentEntity.investments_made.length > 0'>
Invested in:
    <p ng-repeat='investment in currentEntity.investments_made | limitTo:itemsShown.investments_made'>{{investment.entity}}<span ng-if='investment.amount > 0'>: {{investment.amount | currency}}</span></p>
    <a ng-if='currentEntity.investments_made.length > itemsShown.investments_made'ng-click="showMore('investments_made')">More...</a>
    <a ng-if='itemsShown.investments_made > itemsShownDefault.investments_made'ng-click="showLess('investments_made')">Less...</a>
</div>
<div ng-if='currentEntity.investments_made.length == 0'>
    <p>No known investments made.</p>
</div>

<!-- REVENUES -->
<div ng-hide='currentEntity.type == "Individual"'>
    <div ng-if='currentEntity.revenues.length > 0'>
    Revenue:
        <p ng-repeat='revenue in currentEntity.revenues'>{{revenue.year}}: {{revenue.amount | currency}}</p>

        <a ng-if='currentEntity.revenues.length > itemsShown.revenues'ng-click="showMore('revenues')">More...</a>
        <a ng-if='itemsShown.revenues > itemsShownDefault.revenues'ng-click="showLess('revenues')">Less...</a>
    </div>
    <div ng-if='currentEntity.revenues.length == 0'>
        <p>No known revenue information.</p>
    </div>
</div>
<!-- EXPENSES -->
<div ng-hide="currentEntity.type == 'Individual'">
    <div ng-if='currentEntity.expenses.length > 0'>
    Expense:
    <p ng-repeat='expense in currentEntity.expenses'>{{expense.year}}: {{expense.amount | currency}}</p>
        <a ng-if='currentEntity.expenses.length > itemsShown.expenses' ng-click="showMore('expenses')">More...</a>
        <a ng-if='itemsShown.expenses > itemsShownDefault.expenses' ng-click="showLess('expenses')">Less...</a>
    </div>
    <div ng-if='currentEntity.expenses.length == 0'>
        <p>No known expense information.</p>
    </div>
</div>